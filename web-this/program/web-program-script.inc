"//Program script\n"
"'use strict';\n"
"\n"
"let programOut = false;\n"
"let program1   = '';\n"
"let program2   = '';\n"
"let program3   = '';\n"
"let monProgram = 0;\n"
"let tueProgram = 0;\n"
"let wedProgram = 0;\n"
"let thuProgram = 0;\n"
"let friProgram = 0;\n"
"let satProgram = 0;\n"
"let sunProgram = 0;\n"
"let newDayHour = 0;\n"
"\n"
"function parseDayPrograms(line)\n"
"{\n"
"    let fields = line.split(',');\n"
"    monProgram = parseInt(fields[0]) + 1;\n"
"    tueProgram = parseInt(fields[1]) + 1;\n"
"    wedProgram = parseInt(fields[2]) + 1;\n"
"    thuProgram = parseInt(fields[3]) + 1;\n"
"    friProgram = parseInt(fields[4]) + 1;\n"
"    satProgram = parseInt(fields[5]) + 1;\n"
"    sunProgram = parseInt(fields[6]) + 1;\n"
"}\n"
"function parse()\n"
"{\n"
"    let lines = Ajax.response.split('\\n');\n"
"    programOut =        Ajax.hexToBit(lines[0], 0);\n"
"    newDayHour = Ajax.hexToSignedInt8(lines[1]);\n"
"    parseDayPrograms                 (lines[2]);\n"
"    program1   =                      lines[3];\n"
"    program2   =                      lines[4];\n"
"    program3   =                      lines[5];\n"
"}\n"
"function display()\n"
"{\n"
"    let elem;\n"
"    elem = Ajax.getElementOrNull('ajax-program-toggle' ); if (elem) elem.setAttribute('dir', programOut ? 'rtl' : 'ltr');\n"
"    elem = Ajax.getElementOrNull('ajax-program-1'      ); if (elem) elem.value = program1;\n"
"    elem = Ajax.getElementOrNull('ajax-program-2'      ); if (elem) elem.value = program2;\n"
"    elem = Ajax.getElementOrNull('ajax-program-3'      ); if (elem) elem.value = program3;\n"
"    elem = Ajax.getElementOrNull('ajax-mon-program'    ); if (elem) elem.value = monProgram;\n"
"    elem = Ajax.getElementOrNull('ajax-tue-program'    ); if (elem) elem.value = tueProgram;\n"
"    elem = Ajax.getElementOrNull('ajax-wed-program'    ); if (elem) elem.value = wedProgram;\n"
"    elem = Ajax.getElementOrNull('ajax-thu-program'    ); if (elem) elem.value = thuProgram;\n"
"    elem = Ajax.getElementOrNull('ajax-fri-program'    ); if (elem) elem.value = friProgram;\n"
"    elem = Ajax.getElementOrNull('ajax-sat-program'    ); if (elem) elem.value = satProgram;\n"
"    elem = Ajax.getElementOrNull('ajax-sun-program'    ); if (elem) elem.value = sunProgram;\n"
"    elem = Ajax.getElementOrNull('ajax-new-day-hour'   ); if (elem) elem.value = newDayHour;\n"
"}\n"
"\n"
"Ajax.server     = '/program-ajax';\n"
"Ajax.onResponse = function() { parse(); display(); };\n"
"Ajax.init();\n"
""